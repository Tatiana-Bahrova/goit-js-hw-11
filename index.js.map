{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGallery = img => {\n  return `\n  <li class=\"gallery-card\">\n  <a href=\"${img.largeImageURL}\" class=\"gallery-link\">\n  <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" class=\"gallery-img\" />\n  </a>\n  <ul class='gallery-li'>\n  <li class='gallery-li-info'>\n  <span class=\"gallery-text\">Likes</span>\n  <span class=\"gallery-img-info\">${img.likes}</span>\n  </li>\n  <li class='gallery-li-info'>\n  <span class=\"gallery-text\">Views</span>\n  <span class=\"gallery-img-info\">${img.views}</span>\n  </li>\n  <li class='gallery-li-info'>\n  <span class=\"gallery-text\">Comments</span>\n   <span class=\"gallery-img-info\">${img.comments}</span>\n   </li>\n  <li class='gallery-li-info'>\n  <span class=\"gallery-text\">Downloads</span>\n  <span class=\"gallery-img-info\">${img.downloads}</span>\n  </li>\n</ul>\n</li>\n    `;\n};\n","const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = inputValue => {\n  const photosParams = new URLSearchParams({\n    key: '45736267-1794b9732fa70958098f9f4da',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${photosParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGallery } from './js/render-functions';\nimport { fetchPhotos } from './js/pixabay-api';\n\nconst form = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.js-loader');\n\nconst onForm = event => {\n  event.preventDefault();\n\n  const userInputValue = form.elements.user_query.value;\n\n  loader.classList.remove('is-hidden');\n\n  fetchPhotos(userInputValue)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      const galleryCardList = data.hits\n        .map(imgInfo => createGallery(imgInfo))\n        .join('');\n\n      gallery.innerHTML = galleryCardList;\n\n      let lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  loader.classList.add('is-hidden');\n  form.reset();\n};\n\nform.addEventListener('submit', onForm);\n"],"names":["createGallery","img","BASE_URL","fetchPhotos","inputValue","photosParams","response","form","gallery","loader","onForm","event","userInputValue","data","iziToast","galleryCardList","imgInfo","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAgBC,GACpB;AAAA;AAAA,aAEIA,EAAI,aAAa;AAAA,cAChBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKbA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIRA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIbA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,MCrB1CC,EAAW,2BAEJC,EAAcC,GAAc,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAASC,GAAS,CACtBA,EAAM,eAAc,EAEpB,MAAMC,EAAiBL,EAAK,SAAS,WAAW,MAEhDE,EAAO,UAAU,OAAO,WAAW,EAEnCN,EAAYS,CAAc,EACvB,KAAKC,GAAQ,CACRA,EAAK,QAAU,GACjBC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EAGH,MAAMC,EAAkBF,EAAK,KAC1B,IAAIG,GAAWhB,EAAcgB,CAAO,CAAC,EACrC,KAAK,EAAE,EAEVR,EAAQ,UAAYO,EAEL,IAAIE,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACHT,EAAO,UAAU,IAAI,WAAW,EAChCF,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUG,CAAM"}